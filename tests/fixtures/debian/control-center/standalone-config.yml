---
version: "2"

services:
  zookeeper:
    image: confluentinc/cp-zookeeper:latest
    environment:
      ZOOKEEPER_SERVER_ID: 1
      ZOOKEEPER_TICK_TIME: 2000
      ZOOKEEPER_CLIENT_PORT: 2181
    labels:
    - io.confluent.docker.testing=true

  kafka:
    image: confluentinc/cp-kafka:latest
    environment:
      KAFKA_BROKER_ID: 1
      KAFKA_ZOOKEEPER_CONNECT: "zookeeper:2181/defaultconfig"
      KAFKA_ADVERTISED_LISTENERS: "PLAINTEXT://kafka:9092"
    labels:
    - io.confluent.docker.testing=true

  failing-config:
    image: confluentinc/cp-control-center:latest
    labels:
    - io.confluent.docker.testing=true

  failing-config-missing-zk-connect:
    environment:
      BOOTSTRAP_SERVERS: fake
    image: confluentinc/cp-control-center:latest
    labels:
    - io.confluent.docker.testing=true

  failing-config-missing-rep-factor:
    environment:
      BOOTSTRAP_SERVERS: fakeKafka
      ZOOKEEPER_CONNECT: fakeZk
    image: confluentinc/cp-control-center:latest
    labels:
    - io.confluent.docker.testing=true

  default-config:
    image: confluentinc/cp-control-center:latest
    environment:
      ZOOKEEPER_CONNECT: "zookeeper:2181/defaultconfig"
      BOOTSTRAP_SERVERS: "kafka:9092"
    labels:
    - io.confluent.docker.testing=true
      CONTROL_CENTER_REPLICATION_FACTOR: 1
