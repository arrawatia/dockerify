version: "2"

services:
  zookeeper:
    image: confluentinc/cp-zookeeper:latest
    environment:
      SERVER_ID: 2

  failing-config:
    image: confluentinc/cp-kafka-rest:latest

  kafka:
    image: confluentinc/cp-kafka:latest
    environment:
      BROKER_ID: 1
      ZOOKEEPER_CONNECT: "zookeeper:2181/defaultconfig"
      ADVERTISED_LISTENERS: "PLAINTEXT://kafka:9092"

  default-config:
    image: confluentinc/cp-kafka-rest:latest
    environment:
      KAFKA_REST_ZOOKEEPER_CONNECT: "zookeeper:2181/defaultconfig"
